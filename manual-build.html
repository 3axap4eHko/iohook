<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>iohook | Manual Build</title>
    <meta name="description" content="Node.js global native keyboard and mouse listener.">
    
    
    <link rel="preload" href="/iohook/assets/css/6.styles.f71ee522.css" as="style"><link rel="preload" href="/iohook/assets/js/app.47baa685.js" as="script"><link rel="preload" href="/iohook/assets/js/2.4e9c287e.js" as="script"><link rel="prefetch" href="/iohook/assets/js/0.5d2545de.js"><link rel="prefetch" href="/iohook/assets/js/1.dcd3d732.js"><link rel="prefetch" href="/iohook/assets/js/3.b6336cb6.js"><link rel="prefetch" href="/iohook/assets/js/4.1c1e6c3c.js"><link rel="prefetch" href="/iohook/assets/js/5.e2016974.js">
    <link rel="stylesheet" href="/iohook/assets/css/6.styles.f71ee522.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/iohook/" class="home-link router-link-active"><!----><span class="site-name">
      iohook
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/iohook/" class="nav-link">Guide</a></div><div class="nav-item"><a href="https://www.npmjs.com/package/iohook" target="_blank" rel="noopener noreferrer" class="nav-link">NPM</a></div><a href="https://github.com/WilixLead/iohook" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/iohook/" class="nav-link">Guide</a></div><div class="nav-item"><a href="https://www.npmjs.com/package/iohook" target="_blank" rel="noopener noreferrer" class="nav-link">NPM</a></div><a href="https://github.com/WilixLead/iohook" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><a href="/iohook/" class="sidebar-link">Home</a></li><li><a href="/iohook/os-support.html" class="sidebar-link">OS Support</a></li><li><a href="/iohook/installation.html" class="sidebar-link">Installation</a></li><li><a href="/iohook/usage.html" class="sidebar-link">Usage</a></li><li><a href="/iohook/manual-build.html" class="active sidebar-link">Manual Build</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/iohook/manual-build.html#ubuntu-16" class="sidebar-link">Ubuntu 16</a></li><li class="sidebar-sub-header"><a href="/iohook/manual-build.html#macos" class="sidebar-link">macOS</a></li><li class="sidebar-sub-header"><a href="/iohook/manual-build.html#windows" class="sidebar-link">Windows</a></li></ul></li><li><a href="/iohook/faq.html" class="sidebar-link">FAQ</a></li></ul></div><div class="page"><div class="content"><h1 id="manual-build"><a href="#manual-build" aria-hidden="true" class="header-anchor">#</a> Manual Build</h1><div class="tip custom-block"><p class="custom-block-title">INFO</p><p>This is not required for regular users. You should follow this page only if you want to build the source files yourself.</p></div><p>Firstly, run this script</p><pre class="language-js"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> runtime <span class="token operator">=</span> process<span class="token punctuation">.</span>versions<span class="token punctuation">[</span><span class="token string">'electron'</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token string">'electron'</span> <span class="token punctuation">:</span> <span class="token string">'node'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> essential <span class="token operator">=</span> runtime <span class="token operator">+</span> <span class="token string">'-v'</span> <span class="token operator">+</span> process<span class="token punctuation">.</span>versions<span class="token punctuation">.</span>modules <span class="token operator">+</span> <span class="token string">'-'</span> <span class="token operator">+</span> process<span class="token punctuation">.</span>platform <span class="token operator">+</span> <span class="token string">'-'</span> <span class="token operator">+</span> process<span class="token punctuation">.</span>arch<span class="token punctuation">;</span>
<span class="token keyword">const</span> modulePath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'builds'</span><span class="token punctuation">,</span> essential<span class="token punctuation">,</span> <span class="token string">'build'</span><span class="token punctuation">,</span> <span class="token string">'Release'</span><span class="token punctuation">,</span> <span class="token string">'iohook.node'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">'The path is:'</span><span class="token punctuation">,</span> modulePath<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>and get the full path, to where the package looks for the binary. (It's enough to run <code>node index.js</code> and look for result of the <code>console.info</code> in line <code>15</code>).
Then, run <code>npm run build</code> and copy created binary <code>iohook.node</code> file from <code>build/Release/iohook.node</code> to the <code>console.info</code>'ed path.
Running <code>node examples/example.js</code> should show you a working result of your build.
For build requirements for your OS look below.</p><h2 id="ubuntu-16"><a href="#ubuntu-16" aria-hidden="true" class="header-anchor">#</a> Ubuntu 16</h2><ul><li><code>sudo apt install libx11-dev libxtst-dev libxt-dev libx11-xcb-dev libxkbcommon-dev libxkbcommon-x11-dev</code></li><li><code>npm run build</code></li></ul><h2 id="macos"><a href="#macos" aria-hidden="true" class="header-anchor">#</a> macOS</h2><ul><li><code>brew install cmake automake libtool pkg-config</code></li><li><code>npm run build</code></li></ul><h2 id="windows"><a href="#windows" aria-hidden="true" class="header-anchor">#</a> Windows</h2><ul><li>Install: msys2 with autotools, pkg-config, libtool, gcc, clang, glib, C++ Build Tools, cmake</li><li><code>npm run build</code></li></ul><h1 id="testing"><a href="#testing" aria-hidden="true" class="header-anchor">#</a> Testing</h1><p>iohook uses Jest for automated testing. To execute tests, run <code>npm run test</code> in your console.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>It is important you don't press any buttons on your keyboard, don't use your mouse nor the scroll wheel. Tests depend on native events fired by the real keyboard and mouse. Interrupting them will cause tests to fail.</p></div></div><div class="content edit-link"><a href="https://github.com/WilixLead/iohook/edit/master/docs/manual-build.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><div class="content page-nav"><p class="inner"><span class="prev">
        ← <a href="/iohook/usage.html" class="prev">
          Usage
        </a></span><span class="next"><a href="/iohook/faq.html">
          FAQ
        </a> →
      </span></p></div></div></div></div>
    <script src="/iohook/assets/js/2.4e9c287e.js" defer></script><script src="/iohook/assets/js/app.47baa685.js" defer></script>
  </body>
</html>
